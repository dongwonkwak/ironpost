# 코드 리뷰 체크리스트

## 필수 항목 (하나라도 실패 시 반려)

### 포맷 및 린트
- [ ] `cargo fmt` 통과
- [ ] `cargo clippy -- -D warnings` 경고 없음
- [ ] `cargo doc --no-deps` 빌드 경고 없음

### 에러 처리
- [ ] `unwrap()` 사용 없음 (테스트 코드 제외)
- [ ] `panic!()` / `todo!()` / `unimplemented!()` 사용 없음 (프로덕션)
- [ ] 모든 `pub fn`이 `Result` 반환
- [ ] 에러 타입이 `thiserror`로 정의됨
- [ ] `core` 에러 타입으로 변환(`From` 구현)

### 문서화
- [ ] 모든 `pub` 항목에 `///` doc comment
- [ ] 예시 코드 포함 (주요 API)

### unsafe 코드
- [ ] `// SAFETY: <근거>` 주석 필수
- [ ] 대안(safe API) 검토 완료
- [ ] unsafe 범위 최소화

## 보안 항목

### 입력 검증
- [ ] 외부 입력 즉시 파싱 + 검증
- [ ] 문자열 길이 상한 체크
- [ ] 숫자 범위 / 오버플로우 체크
- [ ] 배열/컬렉션 크기 상한 체크

### 버퍼 안전성
- [ ] 동적 버퍼 최대 크기 설정
- [ ] bounded 채널 사용 (unbounded 금지)
- [ ] 링 버퍼 / 용량 제한 큐 사용

### 타임아웃
- [ ] 네트워크 연결 타임아웃 설정
- [ ] 읽기/쓰기 타임아웃 설정
- [ ] 전체 작업 타임아웃 설정

### 민감 데이터
- [ ] 비밀번호/토큰/키 로깅 안 함
- [ ] `zeroize`로 민감 데이터 메모리 클리어
- [ ] 에러 메시지에 민감 정보 미포함

## 성능 항목

### 할당
- [ ] 핫 패스에서 불필요한 힙 할당 없음
- [ ] `Vec` 사전 할당 (`with_capacity`) 사용
- [ ] `bytes::Bytes` 활용 (제로카피)

### clone
- [ ] 불필요한 `clone()` 없음
- [ ] `Cow` 활용 가능한 곳 확인
- [ ] 참조로 충분한 곳에 소유권 이전 안 함

### async
- [ ] I/O 바운드 작업만 async
- [ ] CPU 바운드 작업은 `spawn_blocking`
- [ ] `async fn`에서 불필요한 `.await` 없음

## 아키텍처 항목

### 의존성
- [ ] `core`만 의존 (모듈 간 직접 의존 금지)
- [ ] `workspace.dependencies` 사용
- [ ] 새 의존성 추가 시 라이선스 확인

### 통신
- [ ] 모듈 간 이벤트 기반 통신 (직접 호출 금지)
- [ ] `tokio::mpsc`/`broadcast`/`watch` 사용

### 설정
- [ ] 하드코딩 값 없음 (설정 파일 또는 상수)
- [ ] 환경변수 오버라이드 지원
- [ ] `Default` 구현

## 리뷰 결과 형식

리뷰 결과는 `REVIEW.md`에 다음 형식으로 작성:

```markdown
# 코드 리뷰: [크레이트명] - [PR/커밋 설명]

## 요약
- 리뷰어: reviewer
- 날짜: YYYY-MM-DD
- 대상: [파일 목록]
- 결과: ✅ 승인 / 🔄 수정 요청 / ❌ 반려

## 발견 사항

### 🔴 Critical (반드시 수정)
1. [파일:라인] 설명

### 🟡 Warning (수정 권장)
1. [파일:라인] 설명

### 🟢 Suggestion (선택)
1. [파일:라인] 설명

## 잘된 점
- ...
```
